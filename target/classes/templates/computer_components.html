<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Комплектующие ПК</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>

<!-- Верхняя навигация -->
<nav class="navbar">
    <a href="#" class="navbar-brand">Магазин Комплектующих</a>
    <div class="nav-links">
        <a th:href="@{/cart}">Корзина</a>
        <a th:href="@{/profile}">Профиль</a>
    </div>
</nav>

<div class="container">
    <h1 style="margin-bottom: 30px;">Доступные товары</h1>

    <div th:if="${products.empty}" style="text-align: center; color: #777;">
        <p>На данный момент товары отсутствуют.</p>
    </div>

    <div class="product-grid">
        <div th:each="product : ${products}" class="product-card">
            <!-- Блок с картинкой -->
            <div style="width: 100%; height: 200px; overflow: hidden; display: flex; align-items: center; justify-content: center; margin-bottom: 15px;">
                <img th:if="${product.imageUrl != null}"
                     th:src="${product.imageUrl}"
                     alt="Изображение товара"
                     style="max-height: 100%; max-width: 100%; object-fit: contain;">
                <div th:if="${product.imageUrl == null}"
                     style="width: 100%; height: 100%; background-color: #eee; display: flex; align-items: center; justify-content: center; color: #aaa;">
                    Нет фото
                </div>
            </div>

            <div>
                <h3 th:text="${product.title}" style="font-size: 1.1rem; margin: 0 0 10px 0;">Название товара</h3>
                <p th:text="${product.description}"
                   style="color: #666; font-size: 0.9rem; margin-bottom: 15px; height: 40px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                    Описание...
                </p>
            </div>

            <div style="margin-top: auto;">
                <!-- Цена в рублях -->
                <div class="product-price" th:text="${product.price} + ' ₽'">0.00 ₽</div>

                <form th:action="@{/cart/add}" method="post">
                    <input type="hidden" name="productId" th:value="${product.id}"/>
                    <button type="submit" class="btn">В корзину</button>
                </form>
            </div>
        </div>
    </div>
</div>

</body>
</html>
